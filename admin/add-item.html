<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><title>Add Menu Item</title></head>
<link rel="stylesheet" href="/admin/css/admin.css">
<body>
  <header class="admin-header"><h1>Add Item</h1><nav><a href="dashboard.html">Dashboard</a></nav></header>
  <main class="admin-main">
    <form id="addForm" enctype="multipart/form-data">
      <label>Name<input name="name" required></label>
      <label>Description<textarea name="description"></textarea></label>
      <label>Price<input name="price" type="number" step="0.01" required></label>
      <label>Image<input name="image" type="file" accept="image/*"></label>
      <button type="submit">Add Item</button>
      <p id="msg" class="muted"></p>
    </form>
  </main>
<script>
document.getElementById('addForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  const res = await fetch('/php/admin/add-item.php', { method:'POST', body: fd });
  const data = await res.json();
  document.getElementById('msg').textContent = data.success ? 'Added' : ('Error: '+(data.message||'unknown'));
  if (data.success) e.target.reset();
});
</script>
</body>
</html>
